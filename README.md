# Проектная работа "Веб-ларек"

### Описание проекта
Данный проект - интернет-магазин для веб-разботчиков, который предоставляет возможность выбрать понравившиеся товары и добавить их в корзину, а также оформить доставку.

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Описание данных
В данном проекте используются следующие типы данных и интерфейсы:
### type PaymentMethod
У пользователя есть два способа оплаты заказа: онлайн и при получении, соответственно данный тип может принимать значения 'online' и 'cash'.
### type Category
В интернет-магазине представлены товары 5 категорий: софт-скил, другое, дополнительное, кнопка, хард-скил. Соответствующие значения и может принимать данный тип
### IProductItem
Данный интерфейс содержит все данные товара: id (уникальный идентификатор товара), описание, название, категория, ссылка на изображение, цена, которая может являться целым числом, так и принимать значение null, если товар имеет статус "бесценно".
```TypeScript
export interface IProductItem {
  id: string;  // Уникальный идентификатор товара
  description: string;  // Описание товара
  title: string;  // Название товара
  category: Category;  // Категория товраа, которая соотествует одному из значений типа Category
  image: string;  // Ссылка на изображение
  price: number | null; // Цена товара (товар может быть бесценным)
```
### IOrderForm
Содержит поля для формы заказа, которую заполняет пользователь: способ оплаты, адрес доставки, адрес электронной почты и номер телефона, а также два метода валидации данных для двух модальных окон соответственно. Методы валидируют информацию о доставке и контактные данные. 
```TypeScript
export interface IOrderForm {
  payment: PaymentMethod;  // Способ оплаты, который соответствует одному из значений типа PaymentMethod
  address: string;  // Адрес доставки
  email: string;  // Адрес электронной почты
  phone: string;  // Номер телефона
  validateDelivery(): boolean;  // Метод для валидации данных о доставке
  validateContacts(): boolean;  // Метод для валидации контактных данных
}
```
### IOrder
Данный интерфейс определяет данные самого заказа: список товаров и общую стоимость заказа.
```TypeScript
export interface IOrder {
  total: number;  // Стоимость заказа
  items: IProductItem[];  // Выбранные товары
}
```
### IService
Данный интерфейс описывает модель API.
```TypeScript
export interface IService {
  getProductList(): Promise<IProductItem[]>;  // Получение списка товаров с сервера
  postOrder(): Promise<IOrderResult>;  // Отправка данных о заказе на сервер
}
```
### IOrderResult
Определяет данные, которые возвращает сервер в результате отправления данных заказа: id заказа и его общую стоимость.
```TypeScript
export interface IOrderResult {
  id: string;  // id заказа
  total: number;  // итоговая стоимость
}
```
### IAction
Интефейс определяет обработчики событий. В данном случае обработку событий мыши.
```TypeScript
export interface IAction {
  onClick(event?: MouseEvent): void;  // Обработка кликов мыши
} 
```
### IView
Определяет метод render, который должен быть реализован во всех классах-представлениях. Метод отвечает за само отображение элементов на сайте.
```TypeScript
export interface IView {
  render(data?: object): HTMLElement;  // Рендер элементов
}
```
### IEvent
Интерфейс, который определяет методы класса EventEmitter и отвечает за обработку событий и передачу данных между представленем и моделью.
```TypeScript
export interface IEvents {
    on<T extends object>(event: EventName, callback: (data: T) => void): void;  // Обработка событий event 
    emit<T extends object>(event: string, data?: T): void;  // Вызывает событие
    trigger<T extends object>(event: string, context?: Partial<T>): (data: T) => void; // Генерация события при вызове
}
```
## Структура базового кода:
Проект использует архитектурный паттерн MVP (Model-View-Presenter), который разделяет логику представления, обработки данных и бизнес-логику. Основные компоненты:
- модель (Model) - отвечает за работу с данными (получение, хранение и обработка);
- представление (View) - отвечает за отображение данных и передачи пользовательских действий в презентер;
- презентер (Presenter) - связывает модель и представление и управляет логикой приложения.

Структура базового кода выглядит следующим образом:
```
project-root/               # Корень проекта
│── models/                 # Модели данных (Model)
│   │── BasketModel.ts      # Модель корзины с товарами
│   │── FormModel.ts        # Модель формы отправки 
│   │── HeroModel.ts        # Модель главной страницы
|   │── ServiceModel.ts     # Модель, которая описывает API
├── views                   # Представления данных (View)
|   ├── BasketView.ts       # Представление корзины с товарами
|   ├── BasketItemView.ts   # Представление товара в корзине
│   ├── CardView.ts         # Представление карточки товара
|   ├── CardPreviewView.ts  # Представдение карточки выбранного товара
|   ├── FormDeliveryView.ts # Представление формы, в которой указываются данные по доставке
|   ├── FormContactView.ts  # Представление формы, в которой указываются контактные данные
|   ├── ModalView.ts        # Представление модального окна
│   ├── SuccessView.ts      # Представление окна успешного выполнения заказа
```
Взамодействие между моделями и представлениями осуществляется посредством событий.
